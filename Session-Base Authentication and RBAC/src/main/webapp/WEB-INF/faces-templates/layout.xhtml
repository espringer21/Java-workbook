<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:of="http://omnifaces.org/functions"
      xmlns:p="http://primefaces.org/ui"
>

<h:head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

   <meta name="description" content="${description}"/>
   <meta name="keywords" content="${keywords}" />
   <title>${title}</title>

   <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css" />
   <h:outputStylesheet library="webjars" name="primeflex/3.3.1/themes/primeone-dark.css" />

   <ui:insert name="externalstyles">
   </ui:insert>

   <style>
      ${internalstyles}
   </style>

   <ui:insert name="headscripts">
   </ui:insert>
</h:head>

<h:body style="padding: 60px; min-height: 2000px;">

   <div class="card">
      <h:form>
         <p:growl id="growl"/>

         <p:menubar>
            <p:menuitem value="Home" icon="pi pi-fw pi-home" url="#{request.contextPath}/index.xhtml"/>

            <p:submenu label="Bill" icon="pi pi-fw pi-file">
               <p:menuitem value="List" icon="pi pi-fw pi-list" url="#{request.contextPath}/bills/index.xhtml" />
               <p:menuitem value="Create" icon="pi pi-fw pi-plus" url="#{request.contextPath}/bills/create.xhtml" />
            </p:submenu>

            <p:submenu label="Public Bill" icon="pi pi-fw pi-file">
               <p:menuitem value="List" icon="pi pi-fw pi-list" url="#{request.contextPath}/public/bills/index.xhtml" />
               <p:menuitem value="Create" icon="pi pi-fw pi-plus" url="#{request.contextPath}/public/bills/create.xhtml" />
            </p:submenu>

            <!-- TODO: Add links to Login and Logout-->
            <c:if test="${not empty request.userPrincipal}">
               <p:menuitem value="Logout #{request.userPrincipal.name}"
                           action="#{oidcLogout.submit()}" />
            </c:if>

            <c:if test="${empty request.userPrincipal}">
               <p:menuitem value="Login" outcome="/bills/create.xhtml" />
            </c:if>



         </p:menubar>
      </h:form>
   </div>

   <ui:insert name="maincontent">
      NO MAIN CONTENT PROVIDED
   </ui:insert>

   <hr />
   <footer>
      <p>This
         <a href="https://eclipse-ee4j.github.io/jakartaee-tutorial" target="_blanks">Jakarta EE 10</a>
         web application is built using
         <a href="https://www.jetbrains.com/idea/" target="_blanks">IntelliJ IDEA</a>,
         <a href="https://jakarta.ee/specifications/faces/4.0/jakarta-faces-4.0.html" target="_blanks">Jakarta Faces</a>,
         <a href="https://omnifaces.org/" target="_blanks">OmniFaces</a>,
         <a href="https://www.primefaces.org/showcase" target="_blanks">PrimeFaces</a>,
         <a href="https://www.primefaces.org/primeflex/" target="_blanks">PrimeFlex</a>,
         and runs on
         <a href="http://www.wildfly.org/" target="_blanks">WildFly</a>
      </p>
   </footer>

   <ui:insert name="bodyscripts">
   </ui:insert>
</h:body>

</html>